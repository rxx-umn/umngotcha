<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>The Game</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');
        body{
            padding-bottom: 150px;
            padding-top: 46px;
            font-family: 'Poppins', sans-serif;
            text-align: center;
            background-repeat: no-repeat;
            background-size: cover;
        }
        #navbar{
            background-color: white;
        }
        #navbar a{
            color: black;
        }
        #navbar a span{
            font-weight: bold;
        }
        #header{
            margin-top: 120px;
            height: 327px;
            text-align: left;
        }
        #greeting h1{
            text-align: center;
            font-size: 80px;
            font-weight: bold;
        }
        #greetingQuotes{
            margin-top: 10px;
        }
        #greetingQuotes h5{
            text-align: center;
            font-weight: normal;
            font-size: 22px;
            width: 600px;
            margin: 0 auto;
        }
        #time{
            text-align: center;
            margin-top: 59px;
        }
        #time h3{
            text-align: center;
            font-size: 60px;
            font-weight: normal;
        }
        #aboveMiddle{
            margin-top: 40px;
        }
        #userActivity{
            font-size: 24px;
            font-weight: 500;
        }
        #middleSection{
            margin-top: 20px;
        }
        #progressBarSection{
            background-color: white;
            width: 425px;
            padding: 17px 20px;
            border: 1px solid #CFCFCF;
            border-radius: 8px;
            transition: transform .2s, box-shadow .5s;
        }
        #progressBarSection:hover{
            transform: scale(1.01);
            box-shadow: 0 0 20px rgba(151, 151, 151, 0.5);
        }
        .icon img{
            width: 40px;
        }
        .theButton button{
            width: 45px;
            height: 35px;
            font-size: 16px;
        }
        .progress{
            margin: auto 20px;
            width: 250px;
            height: 25px;
        }
        #play{
            margin-top: 12px;
        }
        #romance{
            margin-top: 12px;
        }
        #progressRomance{
            background-color: rgb(255, 102, 128);
        }
        #sleep{
            margin-top: 12px;
        }
        #study{
            margin-top: 12px;
            margin-bottom: 12px;
        }
        #profileSection{
            background-color: white;
            padding: 20px;
            width: 396px;
            border: 1px solid #CFCFCF;
            border-radius: 8px;
            transition: transform .2s, box-shadow .5s;
        }
        #profileSection:hover{
            transform: scale(1.01);
            box-shadow: 0 0 20px rgba(151, 151, 151, 0.5);
        }
        #profileSection img{
            border: 1px solid #CFCFCF;
            background-color: black;
            width: 120px;
        }
        #text{
            margin-top: 20px;
            font-weight: bold;
        }
        #statusSection{
            background-color: white;
            width: 425px;
            border: 1px solid #CFCFCF;
            border-radius: 8px;
            padding: 20px;
            transition: transform .2s, box-shadow .5s;
        }
        #statusSection:hover{
            transform: scale(1.01);
            box-shadow: 0 0 20px rgba(151, 151, 151, 0.5);
        }
        #fullName{
            border: 1px solid #CFCFCF;
            border-radius: 8px;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        #fullName p{
            margin: auto;
        }
        #relationship{
            border: 1px solid #CFCFCF;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        #relationship p{
            margin: auto;
        }
        #major{
            border: 1px solid #CFCFCF;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        #major p{
            margin: auto;
        }
        #semester{
            border-radius: 8px;
            border: 1px solid #CFCFCF;
            margin-bottom: 10px;
        }
        #semesterBar{
            width: 60%;
            height: 12px;
        }
        #semester p{
            margin: auto;
        }
        #condition{
            border-radius: 8px;
            border: 1px solid #CFCFCF;
            margin-bottom: 10px;
        }
        #condition p{
            margin: auto;
        }
        #footerBottom{
            background-color: white;
        }
        #money{
            border-radius: 8px;
            border: 1px solid #CFCFCF;
        }
        #money p{
            margin: auto;
        }
    </style>
</head>
<body id="theBody" style="background-image: url('images/backgroundSunrises.png');">
    <nav id="navbar" class="navbar navbar-expand-lg fixed-top border-bottom opacity-25">
        <div class="container-fluid">
            <a class="navbar-brand" href="mainMenu.html"><span>UMN</span>Gotcha</a>
        </div>
    </nav>
    <div class="container">
        <div id="header">
            <div id="greeting">
            </div>
            <div id="greetingQuotes">
            </div>
            <div id="time" class="d-flex justify-content-center">
                <h3 id="menit"></h3><h3 id="detik"></h3>
            </div>
        </div>
        <div id="middleSection" class="d-lg-flex justify-content-lg-center justify-content-md-between d-md-inline-block">
            <div id="progressBarSection" class="mx-2">
                <div id="title">
                    <h4 style="font-weight: bold;">Activity</h4>
                </div>
                <div id="eat" class="d-flex mt-4">
                    <div class="icon">
                        <img src="icons/eat.png" alt="eat">
                    </div>
                    <div id="parentEat" class="progress rounded-pill my-auto">
                        <!-- <div id="progressEat" class="progress-bar rounded-pill" style="width: 50%;" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div> -->
                    </div>
                    <div class="theButton my-auto">
                        <button id="buttonEat" type="button" class="btn btn-primary rounded-pill">+</button>
                    </div>
                </div>
                <div id="play" class="d-flex">
                    <div class="icon">
                        <img src="icons/gaming.png" alt="play">
                    </div>
                    <div id="parentPlay" class="progress rounded-pill my-auto">
                        <div id="progressPlay" class="progress-bar rounded-pill" style="width: 0%;" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div class="theButton my-auto">
                        <button id="buttonPlay" type="button" class="btn btn-primary rounded-pill" onclick="play()">+</button>
                    </div>
                </div>
                <div id="romance" class="d-flex">
                    <div class="icon">
                        <img src="icons/lover.png" alt="romance">
                    </div>
                    <div id="parentRomance" class="progress rounded-pill my-auto">
                        <!-- <div id="progressRomance" class="progress-bar rounded-pill" style="width: 50%;" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div> -->
                    </div>
                    <div class="theButton my-auto">
                        <button id="buttonRomance" type="button" class="btn btn-primary rounded-pill">+</button>
                    </div>
                </div>
                <div id="sleep" class="d-flex">
                    <div class="icon">
                        <img src="icons/sleep.png" alt="sleep">
                    </div>
                    <div id="parentSleep" class="progress rounded-pill my-auto">
                        <!-- <div id="progressSleep" class="progress-bar rounded-pill" style="width: 50%;" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div> -->
                    </div>
                    <div class="theButton my-auto">
                        <button id="buttonSleep" type="button" class="btn btn-primary rounded-pill">+</button>
                    </div>
                </div>
                <div id="poo" class="d-flex">
                    <div class="icon">
                        <img src="icons/healthy.png" alt="sleep">
                    </div>
                    <div id="parentStudy" class="progress rounded-pill my-auto">
                        <!-- <div id="progressStudy" class="progress-bar rounded-pill" style="width: 0%;" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div> -->
                    </div>
                    <div class="theButton my-auto">
                        <button id="buttonStudy" type="button" class="btn btn-primary rounded-pill">+</button>
                    </div>
                </div>
            </div>
            <div id="profileSection" class="mx-2">
                <div id="title">
                    <h4 style="font-weight: bold;">PET</h4>
                </div>
                <div id="img" class="mt-4">
                    <img id="theUserAvatar" class="rounded-circle" src="images/user1.png" alt="avatar">
                </div>
                <div id="text">
                    <p id="userP">"..."</p>
                </div>
            </div>
            <div id="statusSection" class="mx-2">
                <div id="title">
                    <h4 style="font-weight: bold;">Status</h4>
                </div>
                    <div id="semesterBar" class="progress rounded-pill mx-auto mt-2 mb-3">
                        <div id="semesterProgressBar" class="progress-bar rounded-pill" style="width: 12.5%;" role="progressbar" aria-valuenow="12.5" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container bg-black mt-5">
        <canvas width="400" height="400" class="bg-white mt-5 mb-3" id="game"></canvas>
        <div class="row">
            <div class="d-flex justify-content-end p-3">
                <div>
                    <button id ="up" class="btn btn-secondary">‚Üë</button>
                    <div>
                        <button id="left" class="btn btn-secondary">‚Üê</button>
                        <button id ="right" class="btn btn-secondary">‚Üí</button>
                    </div>
                    <button id="down" class="btn btn-secondary">‚Üì</button>
                </div>
            </div>
        </div>

    </div>
    <div id="footer">
        <footer id="footerBottom" class="d-flex flex-wrap justify-content-center align-items-center py-3 fixed-bottom opacity-25">
            <div>
              <span class="text-dark">¬© Kelompok Gaptek 2023</span>
            </div>
        </footer>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<script>
    $('document').ready(function(){

        // Avatar settings
        let avatarReceive = localStorage.getItem('theAvatar');
        let theUserAvatar = $('#theUserAvatar');

        if(avatarReceive == 'images/user1.png'){
            theUserAvatar.attr('src', 'images/userNguap1.png');
            setTimeout(function(){
                theUserAvatar.attr('src', 'images/user1.png');
            }, 3000);   
        }
        else if(avatarReceive == 'images/user2.png'){
            theUserAvatar.attr('src', 'images/userNguap2.png');
            setTimeout(function(){
                theUserAvatar.attr('src', 'images/user2.png');
            }, 3000);
        }
        else if(avatarReceive == 'images/user3.png'){
            theUserAvatar.attr('src', 'images/userNguap3.png');
            setTimeout(function(){
                theUserAvatar.attr('src', 'images/user3.png');
            }, 3000);
        }
        else if(avatarReceive == 'images/user4.png'){
            theUserAvatar.attr('src', 'images/userNguap4.png');
            setTimeout(function(){
                theUserAvatar.attr('src', 'images/user4.png');
            }, 3000);
        }
        else if(avatarReceive == 'images/user5.png'){
            theUserAvatar.attr('src', 'images/userNguap5.png');
            setTimeout(function(){
                theUserAvatar.attr('src', 'images/user5.png');
            }, 3000);
        }
        else if(avatarReceive == 'images/user6.png'){
            theUserAvatar.attr('src', 'images/userNguap6.png');
            setTimeout(function(){
                theUserAvatar.attr('src', 'images/user6.png');
            }, 3000);
        }
        else if(avatarReceive == 'images/user7.png'){
            theUserAvatar.attr('src', 'images/userNguap7.png');
            setTimeout(function(){
                theUserAvatar.attr('src', 'images/user7.png');
            }, 3000);
        }


        // Navbar settings
        let navbar = $('#navbar');
        navbar.mouseenter(function(){
            navbar.attr('class', 'navbar navbar-expand-lg fixed-top border-bottom opacity-100');
        });
        navbar.mouseleave(function(){
            navbar.attr('class', 'navbar navbar-expand-lg fixed-top border-bottom opacity-50');
        });

        // Declare parent variables
        let parentEat = $('#parentEat');
        let parentPlay = $('#parentPlay');
        let parentRomance = $('#parentRomance');
        let parentSleep = $('#parentSleep');
        let parentStudy = $('#parentStudy');

        let userP = $('#userP');
        let parentUserP = $('#text');

        let countSemesterstr = localStorage.getItem('theCountSemester');
        let countSemester = parseInt(countSemesterstr);
        let semester = $('#semester');
        let condition = $('#condition');
        let conditionState = localStorage.getItem('theCondition');
        let pacarstr = localStorage.getItem('thePacar');
        let pacar = parseInt(pacarstr);

        // Declare the default lenght of the progress bars
        let panjangEatStr = localStorage.getItem('theEat');
        let panjangPlayStr = localStorage.getItem('thePlay');
        let panjangRomanceStr = localStorage.getItem('theRomance');
        let panjangSleepStr = localStorage.getItem('theSleep');
        let panjangStudyStr = localStorage.getItem('theStudy');
        let panjangEat = parseInt(panjangEatStr);
        let panjangPlay = parseInt(panjangPlayStr);
        let panjangRomance = parseInt(panjangRomanceStr);
        let panjangSleep = parseInt(panjangSleepStr);
        let panjangStudy = parseInt(panjangStudyStr);
        let newBarEat = $(`<div class="progress-bar rounded-pill" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
        parentEat.html(newBarEat);
        let newBarPlay = $(`<div class="progress-bar rounded-pill" style="width: ${panjangPlay}%" role="progressbar" aria-valuenow="${panjangPlay}" aria-valuemin="0" aria-valuemax="100"</div>`);
        parentPlay.html(newBarPlay);
        let newBarRomance = $(`<div id="progressRomance" class="progress-bar rounded-pill" style="width: ${panjangRomance}%" role="progressbar" aria-valuenow="${panjangRomance}" aria-valuemin="0" aria-valuemax="100"></div>`);
        parentRomance.html(newBarRomance);
        let newBarSleep = $(`<div class="progress-bar rounded-pill" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
        parentSleep.html(newBarSleep);
        let newBarStudy = $(`<div class="progress-bar rounded-pill" style="width: ${panjangStudy}%" role="progressbar" aria-valuenow="${panjangStudy}" aria-valuemin="0" aria-valuemax="100"</div>`);
        parentStudy.html(newBarStudy);

        // Time settings
        let time;
        let jamstr = localStorage.getItem('theHour');
        let jam = parseInt(jamstr);
        let detikstr = localStorage.getItem('theSecond');
        let detik = parseInt(detikstr);
        let noStudystr = localStorage.getItem('theDroppedStatus');
        let noStudy = parseInt(noStudystr)
        let moneystr = localStorage.getItem('theMoney');
        let money = parseInt(moneystr)
        let namaPacar = localStorage.getItem('theNamaPacar');

        setInterval(waktu, 1000);

        function waktu(){
            let backgroundBody = $('#theBody');
            detik += 1;
            if(detik == 60){
                detik = 0;
                jam += 1;
            }
            if(jam == 24){
                jam = 0;
            }
            
            //Dropped out function
            if(panjangStudy == 0){
                noStudy += 1;
                if(noStudy == 15){
                    alert("Petmu akan sakit jika tidak diperiksa secara rutin!");   
                }
                if(noStudy == 25){
                    alert("Astagaa, kamu kehilangan petmu!!");
                    window.location.href = 'theDroppedout.html';
                }
            }
            money += 10;
            $("#money").html(`<p><b>Money</b>: $${money}</p>`);
            
            hour = (jam < 10) ? "0" + jam : jam;
            second = (detik < 10) ? "0" + detik : detik;
            time = hour + " : " + second;
            if(money <=- 100){
            }
            
            // Greetings and background settings
            if(hour >= 12 && hour <= 17){
                let nameReceive = localStorage.getItem('theName');
                let greeting = $('#greeting');
                let greetingQuotes = $('#greetingQuotes');
                greeting.html(`<h1 id="greetingText">Selamat Sore, ${nameReceive}!</h1>`);
                greetingQuotes.html(`<h5>"Rahmat - Jangan lupa untuk mengajak pet Anda bermain game! "</h5>`);
                backgroundBody.attr('style', 'background-image: url("images/backgroundNoon.png");');
                $('#time').html(`<h3>${time}</h3>`);
            }
            else if(hour >= 18 && hour <= 20){
                let nameReceive = localStorage.getItem('theName');
                let greeting = $('#greeting');
                let greetingQuotes = $('#greetingQuotes');
                greeting.html(`<h1 id="greetingText">Selamat Malam, ${nameReceive}!</h1>`);
                greetingQuotes.html(`<h5>"Owen - Selalu periksa kesehatan petmu secara rutin!"</h5>`);
                backgroundBody.attr('style', 'background-image: url("images/backgroundSunsets.png");');
                $('#time').html(`<h3>${time}</h3>`);
            }
            else if(hour >= 21 || hour <= 4){
                let nameReceive = localStorage.getItem('theName');
                let greeting = $('#greeting');
                let greetingQuotes = $('#greetingQuotes');
                greeting.html(`<h1 style="color: white" id="greetingText">Selamat Tidur, ${nameReceive}!</h1>`);
                greetingQuotes.html(`<h5 style="color: white">"Jonathan - Pastikan petmu tidur dengan cukup!"</h5>`);
                backgroundBody.attr('style', 'background-image: url("images/backgroundNight.png");');
                $('#time').html(`<h3 style="color: white">${time}</h3>`);
            }
            else if(hour >= 5 && hour <= 11){
                let nameReceive = localStorage.getItem('theName');
                let greeting = $('#greeting');
                let greetingQuotes = $('#greetingQuotes');
                greeting.html(`<h1 id="greetingText">Selamat Pagi, ${nameReceive}!</h1>`);
                greetingQuotes.html(`<h5>"Devon - Jangan lupa untuk memberi petmu makan pagi!"</h5>`);
                backgroundBody.attr('style', 'background-image: url("images/backgroundSunrises.png");');
                $('#time').html(`<h3>${time}</h3>`);
            }
        }

        //Time settings for the progress bars
        setInterval(kurangEat, 1000);
        setInterval(kurangPlay, 1000);
        setInterval(kurangRomance, 10000);
        setInterval(kurangSleep, 1000);
        setInterval(kurangStudy, 15000);

        function kurangEat(){
            let selisih = 0.15;
            panjangEat -= selisih;
            let parentEat = $('#parentEat');

            if(panjangEat <= 0){ 
                alert('Petmu mati!, kamu tidak memberinya makan');
                window.location.href = 'theDeath.html';
            }
            else if(panjangEat <= 24){
                let newBarEat = $(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentEat.html(newBarEat);  
                userP.html(`"Petmu kelaparan!!"`);
                condition.html(`<p><b>Condition</b>: HUNGRY</p>`);
            }
            else{
                let newBarEat = $(`<div class="progress-bar rounded-pill" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentEat.html(newBarEat);
            }
        }

        function kurangPlay(){
            let selisih = 0.25;
            panjangPlay -= selisih;
            let parentPlay = $('#parentPlay');

            if(panjangPlay <= 0){
                alert(`Petmu mati!`);
                window.location.href = 'theDeath.html';
            }
            else if(panjangPlay <= 24){
                let newBarPlay = $(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangPlay}%" role="progressbar" aria-valuenow="${panjangPlay}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentPlay.html(newBarPlay);
                userP.html(`"Ajaklah petmu bermain!"`);
            }
            else{
                let newBarPlay = $(`<div class="progress-bar rounded-pill" style="width: ${panjangPlay}%" role="progressbar" aria-valuenow="${panjangPlay}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentPlay.html(newBarPlay);
            }
        }

        function kurangRomance(){
            if(pacar != 0){
                let selisih = 5;
                panjangRomance -= selisih;
                let parentRomance = $('#parentRomance');
                if(panjangRomance <= 0){
                    selisih = -1;
                    alert(`Kasian, petmu ditinggal..`);
                    panjangRomance = 0;
                    let newBarRomance = $(`<div id="progressRomance" class="progress-bar rounded-pill" style="width: ${panjangRomance}%" role="progressbar" aria-valuenow="${panjangRomance}" aria-valuemin="0" aria-valuemax="100"></div>`);
                    parentRomance.html(newBarRomance);
                    pacar = 0;
                    $("#relationship").html(`<p><b>Relationship</b>: SINGLE</p>`);
                }
                else{
                    let newBarRomance = $(`<div id="progressRomance" class="progress-bar rounded-pill" style="width: ${panjangRomance}%" role="progressbar" aria-valuenow="${panjangRomance}" aria-valuemin="0" aria-valuemax="100"></div>`);
                    parentRomance.html(newBarRomance);
                }
            }
        }

        function kurangSleep(){
            let selisih = 0.25;
            panjangSleep -= selisih;
            let parentSleep = $('#parentSleep');

            if(panjangSleep <= 0){ 
                alert(`Petmu mati!, dia kurang beristirahat.`);
                window.location.href = 'theDeath.html';
            }
            else if(panjangSleep <= 24){
                let newBarSleep = $(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentSleep.html(newBarSleep);
                userP.html(`"Petmu harus tidur"`);
                condition.html(`<p><b>Condition</b>: SLEEPY</p>`);
            }
            else{
                let newBarSleep = $(`<div class="progress-bar rounded-pill" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentSleep.html(newBarSleep);
            }
        }

        function kurangStudy(){
            let selisih = 0.5;
            panjangStudy -= selisih;
            let parentStudy = $('#parentStudy');

            if(panjangStudy < 0){
                selisih = -0.5;
                panjangStudy -= selisih;
                let newBarStudy = $(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangStudy}%" role="progressbar" aria-valuenow="${panjangStudy}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentStudy.html(newBarStudy);
                userP.html(`"Petmu sakit!"`);
                condition.html(`<p><b>Condition</b>: SICK </p>`);
            }
            else if(panjangStudy <= 24){
                let newBarStudy = $(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangStudy}%" role="progressbar" aria-valuenow="${panjangStudy}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentStudy.html(newBarStudy);
                userP.html(`"Apakah kamu sudah memberi petmu obat?"`);
            }
            else{
                let newBarStudy = $(`<div class="progress-bar rounded-pill" style="width: ${panjangStudy}%" role="progressbar" aria-valuenow="${panjangStudy}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentStudy.html(newBarStudy);
            }
        }

        // Settings for all the button functions
        let buttonEat = $('#buttonEat');
        let buttonPlay = $('#buttonPlay');
        let buttonRomance = $('#buttonRomance');
        let buttonSleep = $('#buttonSleep');
        let buttonStudy = $('#buttonStudy');
        let buttonExit = $('#exit_btn');

        buttonEat.click(function(){
            let selisih = 6;
            let nambah = 3;
            //money -= 10;
            //detik += 30;
            //panjangSleep -= selisih;

            
            if(detik >= 60){
                detik -= 60;
                jam += 1;
            }
            if(jam == 24){
                jam = 0;
            }
            if(money <= 0){
                alert(`Kamu terlalu boros, belilah makanan secukupnya!`);
            }
            // Avatar settings
            if(theUserAvatar.attr('src') == ('images/user1.png')){
                theUserAvatar.attr('src', 'images/userEat1.png');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user1.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user2.png')){
                theUserAvatar.attr('src', 'images/userEat2.png');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user2.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user3.png')){
                theUserAvatar.attr('src', 'images/userEat3.png');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user3.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user4.png')){
                theUserAvatar.attr('src', 'images/userEat4.png');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user4.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user5.png')){
                theUserAvatar.attr('src', 'images/userEat5.png');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user5.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user6.png')){
                theUserAvatar.attr('src', 'images/userEat6.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user6.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user7.png')){
                theUserAvatar.attr('src', 'images/userEat7.png');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user7.png');
                }, 2000);
            }

            panjangEat += selisih;
            

            let parentEat = $('#parentEat');
            let parentPlay = $('#parentPlay');
            if(panjangEat <= 98){
                detik += 30;
                if(detik >= 60){
                    detik -= 60;
                    jam += 1;
                }
                money -= 20;
                panjangPlay -= nambah;
                //panjangEat -= nambah2;

            }
            else if(panjangEat > 98){
                panjangEat = 100;
            }
            if(panjangPlay <= 24){
                let newBarPlay = $(`<div class="progress-bar rounded-pill bg-warning" style="width: ${panjangPlay}%" role="progressbar" aria-valuenow="${panjangPlay}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentPlay.html(newBarPlay);
                setTimeout(function(){
                    parentPlay.html(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangPlay}%" role="progressbar" aria-valuenow="${panjangPlay}" aria-valuemin="0" aria-valuemax="100"</div>`);
                }, 1000);
            }
            else if(panjangPlay <= 0){
                alert(`Petmu mati!`);
                window.location.href = 'theDeath.html';
            }
            else{
                let newBarPlay = $(`<div class="progress-bar rounded-pill bg-warning" style="width: ${panjangPlay}%" role="progressbar" aria-valuenow="${panjangPlay}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentPlay.html(newBarPlay);
                setTimeout(function(){
                    parentPlay.html(`<div class="progress-bar rounded-pill" style="width: ${panjangPlay}%" role="progressbar" aria-valuenow="${panjangPlay}" aria-valuemin="0" aria-valuemax="100"</div>`);
                }, 1000);
            }

            if(panjangEat <= 24){
                let newBarEat = $(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentEat.html(newBarEat);
                userP.html(`"@#!@##$...üçñüíû"`);
            }
            else if(panjangEat >= 100){
                panjangEat = 100;
                
            }
            else{
                let newBarEat = $(`<div class="progress-bar rounded-pill" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentEat.html(newBarEat);
                userP.html(`"ü•ñüçñüçóü•ó"`);
                condition.html(`<p><b>Condition</b>: HEALTHY</p>`);   
            }
        });

        buttonRomance.click(function(){
            let selisih = 5;
            panjangRomance += selisih;
            let parentRomance = $('#parentRomance');
            
            // Avatar settings
            if(pacar != 0){
                if(theUserAvatar.attr('src') == ('images/user1.png')){
                    theUserAvatar.attr('src', 'images/userLove1.jpg');
                    setTimeout(function(){
                        theUserAvatar.attr('src', 'images/user1.png');
                    }, 2000);
                }
                else if(theUserAvatar.attr('src') == ('images/user2.png')){
                    theUserAvatar.attr('src', 'images/userLove2.jpg');
                    setTimeout(function(){
                        theUserAvatar.attr('src', 'images/user2.png');
                    }, 2000);
                }
                else if(theUserAvatar.attr('src') == ('images/user3.png')){
                    theUserAvatar.attr('src', 'images/userLove3.jpg');
                    setTimeout(function(){
                        theUserAvatar.attr('src', 'images/user3.png');
                    }, 2000);
                }
                else if(theUserAvatar.attr('src') == ('images/user4.png')){
                    theUserAvatar.attr('src', 'images/userLove4.jpg');
                    setTimeout(function(){
                        theUserAvatar.attr('src', 'images/user4.png');
                    }, 2000);
                }
                else if(theUserAvatar.attr('src') == ('images/user5.png')){
                    theUserAvatar.attr('src', 'images/userLove5.jpg');
                    setTimeout(function(){
                        theUserAvatar.attr('src', 'images/user5.png');
                    }, 2000);
                }
                else if(theUserAvatar.attr('src') == ('images/user6.png')){
                    theUserAvatar.attr('src', 'images/userLove6.jpg');
                    setTimeout(function(){
                        theUserAvatar.attr('src', 'images/user6.png');
                    }, 2000);
                }
                else if(theUserAvatar.attr('src') == ('images/user7.png')){
                    theUserAvatar.attr('src', 'images/userLove7.jpg');
                    setTimeout(function(){
                        theUserAvatar.attr('src', 'images/user7.png');
                    }, 2000);
                }
            }
            if(pacar == 1){
                if(panjangRomance <= 0){
                    selisih = -5;
                    panjangRomance -= selisih;
                    let newBarRomance = $(`<div id="progressRomance" class="progress-bar rounded-pill" style="width: ${panjangRomance}%" role="progressbar" aria-valuenow="${panjangRomance}" aria-valuemin="0" aria-valuemax="100"></div>`);
                    parentRomance.html(newBarRomance);
                }
                else if(panjangRomance >= 100){
                    panjangRomance = 100;
                    let newBarRomance = $(`<div id="progressRomance" class="progress-bar rounded-pill" style="width: ${panjangRomance}%" role="progressbar" aria-valuenow="${panjangRomance}" aria-valuemin="0" aria-valuemax="100"></div>`);
                    parentRomance.html(newBarRomance);
                    money -= 20;
                    jam += 2;
                    if(money <= 0){
                        alert(`Jangan terlalu sering mengajak petmu keluar `);
                    }
                    if(jam >= 24){
                        jam -= 24;
                    }
                }
                else{
                    jam += 2;
                    money -= 20;
                    if(jam >= 24){
                        jam -= 24;
                    }
                    if(money <= 0){
                        alert(`Jangan terlalu boros `);
                    }
                    let newBarRomance = $(`<div id="progressRomance" class="progress-bar rounded-pill" style="width: ${panjangRomance}%" role="progressbar" aria-valuenow="${panjangRomance}" aria-valuemin="0" aria-valuemax="100"></div>`);
                    parentRomance.html(newBarRomance);
                    userP.html(`"‚ù§üß°üíõ"`);
                    condition.html(`<p><b>Condition</b>: IN LOVE</p>`);
                }
            }else{
                if(confirm('You want ur pet have a lover?') == true){
                    pacarBaru = window.prompt("Masukkan nama pet betina:");
                    
                    if(pacarBaru == null || pacarBaru == ""){
                        alert('Masukkan namanya dengan benar');
                    }
                    else{
                        pacar++;
                        panjangRomance = 25;
                        let newBarRomance = $(`<div id="progressRomance" class="progress-bar rounded-pill" style="width: ${panjangRomance}%" role="progressbar" aria-valuenow="${panjangRomance}" aria-valuemin="0" aria-valuemax="100"></div>`);
                        parentRomance.html(newBarRomance);
                        $("#relationship").html(`<p><b>In relationship with</b>: ${pacarBaru.toUpperCase()}</p>`);
                    }
                }
            }
        });
        
        buttonSleep.click(function(){
            let selisih = 25;
            let nambah2 = 15;

            // Avatar settings
            if(theUserAvatar.attr('src') == ('images/user1.png')){
                theUserAvatar.attr('src', 'images/userSleep1.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user1.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user2.png')){
                theUserAvatar.attr('src', 'images/userSleep2.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user2.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user3.png')){
                theUserAvatar.attr('src', 'images/userSleep3.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user3.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user4.png')){
                theUserAvatar.attr('src', 'images/userSleep4.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user4.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user5.png')){
                theUserAvatar.attr('src', 'images/userSleep5.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user5.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user6.png')){
                theUserAvatar.attr('src', 'images/userSleep6.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user6.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user7.png')){
                theUserAvatar.attr('src', 'images/userSleep7.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user7.png');
                }, 2000);
            }

            panjangSleep += selisih;

            if(panjangSleep <= 100){
                jam += 4;
                if(jam >= 24){
                    jam -= 24;
                }
                panjangEat -= nambah2;

            }
            else if(panjangSleep > 100){
                panjangSleep = 100;
            }

            let parentSleep = $('#parentSleep');
            let parentEat = $('#parentEat');

            if(panjangEat <= 24){
                let newBarEat = $(`<div class="progress-bar rounded-pill bg-warning" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentEat.html(newBarEat);
                setTimeout(function(){
                    let newBarEat = $(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                    parentEat.html(newBarEat);
                }, 1000);
            }
            else if(panjangEat <= 0){
                alert(`Petmu mati!, kamu tidak memberinya makan`);
                window.location.href = 'theDeath.html';
            }
            else{
                let newBarEat = $(`<div class="progress-bar rounded-pill bg-warning" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentEat.html(newBarEat);
                setTimeout(function(){
                    let newBarEat = $(`<div class="progress-bar rounded-pill" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                    parentEat.html(newBarEat);
                }, 1000);  
            }

            if(panjangSleep <= 24){
                let newBarSleep = $(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentSleep.html(newBarSleep);    
                userP.html(`ZZZ... ZZZ... ZZZ`);
            }
            else if(panjangSleep >= 100){
                let newBarSleep = $(`<div class="progress-bar rounded-pill" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentSleep.html(newBarSleep);
            }
            else{
                let newBarSleep = $(`<div class="progress-bar rounded-pill" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentSleep.html(newBarSleep);
                userP.html(`Zzz... Zzz... Zzz...`);
                condition.html(`<p><b>Condition</b>: HEALTHY</p>`);
            }
        });
        let semesterProgress = $("semesterBar");
        let panjangSemester = 12.5;
        if(localStorage.getItem('theSemester') != null || localStorage.getItem('theSemester') != ""){
            let panjangSemesterstr = localStorage.getItem('theSemester');
            let panjangSemester = parseInt(panjangSemesterstr);
        }

        buttonStudy.click(function(){
            let selisih = 6;
            let nambah = 1.5;
            let nambah2 = 2.5;
            jam += 1;
            if(jam >= 24){
                jam -= 24;
            }
            // Avatar settings
            if(theUserAvatar.attr('src') == ('images/user1.png')){
                theUserAvatar.attr('src', 'images/userSick1.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user1.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user2.png')){
                theUserAvatar.attr('src', 'images/userSick2.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user2.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user3.png')){
                theUserAvatar.attr('src', 'images/userSick3.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user3.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user4.png')){
                theUserAvatar.attr('src', 'images/userSick4.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user4.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user5.png')){
                theUserAvatar.attr('src', 'images/userSick5.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user5.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user6.png')){
                theUserAvatar.attr('src', 'images/userSick6.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user6.png');
                }, 2000);
            }
            else if(theUserAvatar.attr('src') == ('images/user7.png')){
                theUserAvatar.attr('src', 'images/userSick7.jpg');
                setTimeout(function(){
                    theUserAvatar.attr('src', 'images/user7.png');
                }, 2000);
            }

            panjangStudy += selisih;
            panjangEat -= nambah;
            panjangSleep -= nambah2;

            let parentStudy = $('#parentStudy');
            let parentEat = $('#parentEat');

            noStudy = 0;
            if(panjangSleep <= 24){
                let newBarSleep = $(`<div class="progress-bar rounded-pill bg-warning" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentSleep.html(newBarSleep);
                setTimeout(function(){
                    parentSleep.html(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                }, 1000);    
            }
            else if(panjangSleep >= 100){
                let newBarSleep = $(`<div class="progress-bar rounded-pill" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentSleep.html(newBarSleep);
            }
            else{
                let newBarSleep = $(`<div class="progress-bar rounded-pill bg-warning" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentSleep.html(newBarSleep);
                setTimeout(function(){
                    parentSleep.html(`<div class="progress-bar rounded-pill" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                }, 1000);
            }
            if(panjangEat <= 24){
                let newBarEat = $(`<div class="progress-bar rounded-pill bg-warning" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentEat.html(newBarEat);
                setTimeout(function(){
                    parentEat.html(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                }, 1000);
            }
            else if(panjangEat <= 0){
                alert(`Selamat!, kamu berhak memiliki pet di real life`);
            }
            else{
                let newBarEat = $(`<div class="progress-bar rounded-pill bg-warning" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentEat.html(newBarEat);
                setTimeout(function(){
                    parentEat.html(`<div class="progress-bar rounded-pill" style="width: ${panjangEat}%" role="progressbar" aria-valuenow="${panjangEat}" aria-valuemin="0" aria-valuemax="100"</div>`);
                }, 1000);
            }

            if(panjangStudy <= 24){
                let newBarStudy = $(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangStudy}%" role="progressbar" aria-valuenow="${panjangStudy}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentStudy.html(newBarStudy);
                userP.html(`"Cek kesehatan petmu secara rutin"`);
            }
            else if(panjangStudy >= 100){
                money -= 120;
                semester.html(`<p><b>Semester</b>: ${countSemester++}</p>`);
                panjangStudy = 0;
                panjangSemester += 12.5;
                semester.append(`<div id="semesterBar" class="progress rounded-pill mx-auto mt-2 mb-3"><div id="semesterProgressBar" class="progress-bar rounded-pill" style="width: ${panjangSemester}%;" role="progressbar" aria-valuenow="${panjangSemester}" aria-valuemin="0" aria-valuemax="100"></div></div>`);
                
                let newBarStudy = $(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangStudy}%" role="progressbar" aria-valuenow="${panjangStudy}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentStudy.html(newBarStudy);
                if(money <= 0){
                    alert(`Jangan terlalu boros`);
                }
             
            }
            else{
                let newBarStudy = $(`<div class="progress-bar rounded-pill" style="width: ${panjangStudy}%" role="progressbar" aria-valuenow="${panjangStudy}" aria-valuemin="0" aria-valuemax="100"</div>`);
                parentStudy.html(newBarStudy);
                userP.html(`Selamat!, kamu adalah BABO yang baik!.`);
                condition.html(`<p><b>Condition</b>: HEALTHY</p>`);
            }
        });

        buttonExit.click(function(){
            let playSave = panjangPlay;
            let sleepSave = panjangSleep;
            let romanceSave = panjangRomance;
            let studySave = panjangStudy;
            let eatSave = panjangEat;
            let semesterSave = panjangSemester;
            let hourSave = jam;
            let secondSave = detik;
            let droppedOutSave = noStudy;
            let moneySave = money;
            let pacarSave = pacar;
            let conditionSave = conditionState;
            let namaPacarSave = namaPacar;
            let jumlahSemester = countSemester;
            localStorage.setItem('thePlay', playSave);
            localStorage.setItem('theSleep', sleepSave);
            localStorage.setItem('theRomance', romanceSave);
            localStorage.setItem('theStudy', studySave);
            localStorage.setItem('theEat', eatSave);
            localStorage.setItem('theHour', hourSave);
            localStorage.setItem('theSecond', secondSave);
            localStorage.setItem('theDroppedStatus', droppedOutSave);
            localStorage.setItem('theMoney', moneySave);
            localStorage.setItem('thePacar', pacarSave);
            localStorage.setItem('theSemester', semesterSave);
            localStorage.setItem('theCondition', conditionSave);
            localStorage.setItem('theNamaPacar', namaPacarSave);
            localStorage.setItem('theCountSemester', jumlahSemester);

        });

        
        

            var canvas = document.getElementById('game');
            var context = canvas.getContext('2d');

            var grid = 16;
            var count = 0;
  
            var snake = {
                x: 160,
                y: 160,
  

                dx: grid,
                dy: 0,

                cells: [],
  
                maxCells: 4
            };
            var apple = {
                x: 320,
                y: 320
            };


            function getRandomInt(min, max) {
                return Math.floor(Math.random() * (max - min)) + min;
            }


            function loop() {
                requestAnimationFrame(loop);


                if (++count < 4) {
                    return;
                }

                count = 0;
                context.clearRect(0,0,canvas.width,canvas.height);


                snake.x += snake.dx;
                snake.y += snake.dy;


                if (snake.x < 0) {
                    snake.x = canvas.width - grid;
                }
                else if (snake.x >= canvas.width) {
                    snake.x = 0;
                }
  

                if (snake.y < 0) {
                    snake.y = canvas.height - grid;
                }
                else if (snake.y >= canvas.height) {
                    snake.y = 0;
                }


                snake.cells.unshift({x: snake.x, y: snake.y});


                if (snake.cells.length > snake.maxCells) {
                    snake.cells.pop();
                }

 
                context.fillStyle = 'red';
                context.fillRect(apple.x, apple.y, grid-1, grid-1);

                context.fillStyle = 'green';
                snake.cells.forEach(function(cell, index) {
    

                context.fillRect(cell.x, cell.y, grid-1, grid-1);  


                if (cell.x === apple.x && cell.y === apple.y){
                
                    snake.maxCells++;
                    let selisih = 6;
                    let nambah = 3;
                    jam += 1;
                    if(jam >= 24){
                        jam -= 24;
                    }
                    // Avatar settings
                   if(theUserAvatar.attr('src') == ('images/user1.png')){
                        theUserAvatar.attr('src', 'images/userPlay1.jpg');
                        setTimeout(function(){
                            theUserAvatar.attr('src', 'images/user1.png');
                        }, 2000);
                    }
                    else if(theUserAvatar.attr('src') == ('images/user2.png')){
                        theUserAvatar.attr('src', 'images/userPlay2.jpg');
                        setTimeout(function(){
                            theUserAvatar.attr('src', 'images/user2.png');
                        }, 2000);
                    }
                    else if(theUserAvatar.attr('src') == ('images/user3.png')){
                        theUserAvatar.attr('src', 'images/userPlay3.jpg');
                        setTimeout(function(){
                            theUserAvatar.attr('src', 'images/user3.png');
                        }, 2000);
                    }
                    else if(theUserAvatar.attr('src') == ('images/user4.png')){
                        theUserAvatar.attr('src', 'images/userPlay4.jpg');
                        setTimeout(function(){
                            theUserAvatar.attr('src', 'images/user4.png');
                        }, 2000);
                    }
                    else if(theUserAvatar.attr('src') == ('images/user5.png')){
                        theUserAvatar.attr('src', 'images/userPlay5.jpg');
                        setTimeout(function(){
                            theUserAvatar.attr('src', 'images/user5.png');
                        }, 2000);
                    }
                    else if(theUserAvatar.attr('src') == ('images/user6.png')){
                        theUserAvatar.attr('src', 'images/userPlay6.jpg');
                        setTimeout(function(){
                            theUserAvatar.attr('src', 'images/user6.png');
                        }, 2000);
                    }
                    else if(theUserAvatar.attr('src') == ('images/user7.png')){
                        theUserAvatar.attr('src', 'images/userPlay7.jpg');
                        setTimeout(function(){
                            theUserAvatar.attr('src', 'images/user7.png');
                        }, 2000);
                    }

                    panjangPlay += selisih;
                    panjangSleep -= nambah;

                    let parentPlay = $('#parentPlay');
                    let parentSleep = $('#parentSleep');

                    if(panjangSleep <= 24){
                        let newBarSleep = $(`<div class="progress-bar rounded-pill bg-warning" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                        parentSleep.html(newBarSleep);
                        setTimeout(function(){
                            parentSleep.html(`<div class="progress-bar rounded-pill bg-danger" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                        }, 1000);
                    }
                    else if(panjangSleep <= 0){
                        alert(`You are dead! It is just stupid to not give a damn about your eyes. You were tired and you didn't take a nap or something? This is just funny.`);
                        window.location.href = 'theDeath.html';
                    }
                    else{
                        let newBarSleep = $(`<div class="progress-bar rounded-pill bg-warning" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                        parentSleep.html(newBarSleep);
                        setTimeout(function(){
                            parentSleep.html(`<div class="progress-bar rounded-pill" style="width: ${panjangSleep}%" role="progressbar" aria-valuenow="${panjangSleep}" aria-valuemin="0" aria-valuemax="100"</div>`);
                        }, 1000);
                    }
                    if(pacar != 0){
                        panjangRomance-=nambah;
                        let newBarRomance = $(`<div id="progressRomance" class="progress-bar rounded-pill bg-warning" style="width: ${panjangRomance}%" role="progressbar" aria-valuenow="${panjangRomance}" aria-valuemin="0" aria-valuemax="100"</div>`);
                        parentRomance.html(newBarRomance);
                        setTimeout(function(){
                            parentRomance.html(`<div id="progressRomance" class="progress-bar rounded-pill" style="width: ${panjangRomance}%" role="progressbar" aria-valuenow="${panjangRomance}" aria-valuemin="0" aria-valuemax="100"</div>`);
                        }, 1000);
                        if(panjangRomance <= 0){
                            alert(`You have been dumped by your partner!`);
                            panjangRomance = 0;
                            let newBarRomance = $(`<div id="progressRomance" class="progress-bar rounded-pill bg-warning" style="width: ${panjangRomance}%" role="progressbar" aria-valuenow="${panjangRomance}" aria-valuemin="0" aria-valuemax="100"</div>`);
                            parentRomance.html(newBarRomance);
                            pacar = 0;
                            $("#relationship").html(`<p><b>Relationship</b>: SINGLE</p>`);
                        }
                    }

                    if(panjangPlay <= 24){
                        let newBarPlay = $(`<div class="progress-bar rounded-pill" style="width: ${panjangPlay}%" role="progressbar" aria-valuenow="${panjangPlay}" aria-valuemin="0" aria-valuemax="100"</div>`);
                        parentPlay.html(newBarPlay);
                        userP.html(`"Ajaklah petmu bermain!"`);
                    }
                    else if(panjangPlay >= 100){
                        panjangPlay = 100;
                        let newBarPlay = $(`<div class="progress-bar rounded-pill" style="width: ${panjangPlay}%" role="progressbar" aria-valuenow="${panjangPlay}" aria-valuemin="0" aria-valuemax="100"</div>`);
                        parentPlay.html(newBarPlay);
                    }
                    else{
                        let conditionState = "HEALTHY";
                        let newBarPlay = $(`<div class="progress-bar rounded-pill" style="width: ${panjangPlay}%" role="progressbar" aria-valuenow="${panjangPlay}" aria-valuemin="0" aria-valuemax="100"</div>`);
                        parentPlay.html(newBarPlay);
                        userP.html(`Petmu sangat attractive ü•∞"`);
                        condition.html('<p><b>Condition</b>: ' + conditionState + '</p>');
                    }
                

                    apple.x = getRandomInt(0, 25) * grid;
                    apple.y = getRandomInt(0, 25) * grid;
                }


                for (var i = index + 1; i < snake.cells.length; i++) {
      
                    if (cell.x === snake.cells[i].x && cell.y === snake.cells[i].y) {
                        snake.x = 160;
                        snake.y = 160;
                        snake.cells = [];
                        snake.maxCells = 4;
                        snake.dx = grid;
                        snake.dy = 0;

                        apple.x = getRandomInt(0, 25) * grid;
                        apple.y = getRandomInt(0, 25) * grid;
                    }
                }
            });
        }
        document.addEventListener('keydown', function(e) {

        



        $('#up').click(function(){
            snake.dy = -grid;
            snake.dx = 0;
        });
        $('#down').click(function(){
            snake.dy = grid;
            snake.dx = 0;
        });
        $('#left').click(function(){
            snake.dx = -grid;
            snake.dy = 0;
        });
        $('#right').click(function(){
            snake.dx = grid;
            snake.dy = 0;
        });


        if (e.which === 37 && snake.dx === 0) {
            snake.dx = -grid;
            snake.dy = 0;
        }
        else if (e.which === 38 && snake.dy === 0) {
            snake.dy = -grid;
            snake.dx = 0;
        }

        else if (e.which === 39 && snake.dx === 0) {
            snake.dx = grid;
            snake.dy = 0;
        }
  // down arrow key
        else if (e.which === 40 && snake.dy === 0) {
            snake.dy = grid;
            snake.dx = 0;
        }
    });

        // start the game
        requestAnimationFrame(loop);
    });
</script>
</body>
</html>